---
defaults:
  - scope:
      path: ""
      type: posts
    values:
      layout: single
      author_profile: true
      comments: true
      related: true

title: "모던 자바스크립트 (15) 재귀와 스택"
excerpt: "모던 자바스크립트 (15) 재귀와 스택"
toc: true
toc_sticky: true
toc_label: "목차"
categories:
  - JS
tags:
  - [JS, 모던자바스크립트]
date: 2023-07-13
last_modified_at: 2023-07-13
---
# 재귀
- 함수가 자기 자신을 호출하는 것, 

# x를 n 제곱 해주는 함수를 만들기 
```js
// for 문을 통한 반복 
function pow(x, n) {
  let result = 1;

  // 반복문을 돌면서 x를 n번 곱함
  for (let i = 0; i < n; i++) {
    result *= x;
  }

  return result;
}

alert( pow(2, 3) ); // 8

// 재귀를 통한 방법 
function pow(x, n) {
    if (n == 1) {
        return x;
    } else {
        return x * pow(x, n - 1);
    }
}

alert( pow(2, 3) ); // 8
```
- pow 를 호출하면 n == 1 인 경우와 아닌경우로 나뉨 , 
- n == 1 일때 명확환 결과값을 즉시 도출함 , 재귀의 베이스라고 함  pow(x, 1) 는 x
- n == 1 이 아닐 때 pow(x, n) 은 x * pow(x, n-1) 으로 표현 가능 , 재귀 단계라고 표현, 재귀 단계는 n 이 1이 될때까지 계속 이어짐 

# 재귀 깊이 
- 가장 처음 하는 호출을 포함한 중첩 호출의 최대 개수를 의미 , 위의 예제에서 재귀 깊이는 N 임 
- 최대 재귀 깊이를 제한함 , 만개정도까진 허용하나 대다수가 십만은 불가능함 , tail calls optimization 이라는 최적화 수행하지만 간단한 경우에만 적용 


# 실행 컨텍스트와 스택 
- 실행중인 함수의 실행 절차에 대한 정보는 해당함수의 실행 컨텍스트에 저장됨 , 
- 실행컨텍스트는 함수 실행에 대한 세부정보를 담은 내부 데이터 구조 , 제어 흐름의 현재 위치 , 변수의 현재값, this의 값, 등 상세 내부 정보가 실행컨텍스트에 저장됨 
- 암수 호출 1회당 하나의 실행 컨텍스트가 생성 
- 함수 내부에 중첩 호출이 있을 때
1. 현재 함수의 실행이 일시 중지됨 
2. 중지된 함수와 연관된 실행 컨텍스트는 실행 컨텍스트 스택이라는 특별한 자료 구조에 저장됨 
3. 중첩 호출이 실행됨 
4. 중첩 호출 실행이 끝난 이후 실행 컨텍스트 스택에서 일시 중단한 실행 컨텍스트를 꺼내오고, 중단한 함수의 실행을 다시 이어감 

- 실행컨텍스트는 메모리를 차지함, 재귀를 사용할 땐 메모리 요구사항에 유의해야함, n개의 실행 컨텍스트가 저장될 공간이 필요함 
- 반복문 기반 알고리즘은 재귀에 비해 메모리를 절약할 수 있음 

- 재귀를 이용해 작성한 코드는 반복문을 사용한 코드로 다시 작성할 수 있음 , 반복문을 사용하면 대개 함수 호출의 비용이 절약됨 , 
- 하지만 코드를 다시 작성해도 큰 개선이 없는 경우도 있음 , 조건에 따라 함수가 다른 재귀 서브 호출을 하고 그 결과를 합칠 때 그럼, 
- 분기문이 복잡하게 얽혀있을때도 메모리가 크게 절약되지않음, , 
- 재귀를 사용하면 코드가 짧아짐 , 


# 재귀적 순회
- 