---
defaults:
- scope:
  path: ""
  type: posts
  values:
  layout: single
  author_profile: true
  comments: true
  related: true

title: "nginx 적용기 (1) nginx ? 프록시 proxy reverse Proxy, forward Proxy 리버스 프록시 포워드 프록시"
excerpt: "nginx 적용기 (1)  nginx ? 프록시 proxy reverse Proxy, forward Proxy 리버스 프록시 포워드 프록시"
toc: true
toc_sticky: true
toc_label: "목차"
categories:
- Nginx
  tags:
- [젠킨스]
  date: 2023-07-20
  last_modified_at: 2023-07-20
---
# Nginx 
- 경량화된 소프트웨어 웹 서버, http 서버라고도 한다, 서버의 정보를 제공하는 소프트웨어이며 apache 같은것들도 있다.
- 싱글 스레드로 동작, 비동기 논블로킹 i/o 이벤트 기반으로 요청을 처리함 
- 적은 자원으로 효율적인 트래픽 처리 가능
- http 프로토콜을 이용해 html css js image mediafile 같은 정적인 정보를 웹 브라우저에 전송함 
- 유저로부터 요청을 받으면 WAS를 거치지 않고 요청에 맞는 정적 파일을 응답해주는 HTTP server 로 사용가능 . 정적인 리소스에 대한 요청을 nginx 가 처리해줌 
- 리버스 프록시 서버 reverse proxy server 로 client 와 server 를 중개해준다 , 이 때 로드밸런서의 역할을 수행할 수 있다. 

# http protocol
- 가볍게 말하면 웹에서 데이터를 주고받기 위한 일종의 규약 TCP/IP 통신위에서 동작하며 기본 포트번호는 80 이다. 

# WAS (Web Application Server)
- 웹 서버로부터 오는 동적인 요청을 처리하는 서버임 , 여기에 대해선 추가적으로 다시 이야기할 예정... 

# Proxy server
- 중개서버라고 생각하면 좋음 
- 클라이언트의 요청을 바로 서버로 보내는것이 아닌 프록시 서버를 이용해서 리소스를 전달해서 보안 , 트래픽 분산 , 캐시 사용등의 장점을 가질 수 있게됨

# Forward Proxy
- 일반적인 프록시 서버 , 클라이언트의 요청을 웹서버로 전달하고 자원을 가져옴 , 클라이언트의 바로 뒤에 위치함, 클라이언트가 감춰짐 
- 클라이언트는 포워드 프록시를 통해서만 요청을 하기때문에 해당 서버 혹은 웹사이트에 직접 접근을 방지할 수 있다 
- 클라이언트의 요청을 캐싱해서 성능 향상을 기대할 수 있다 .
- 클라이언트의 요청이 포워드 프록시서버를 통과할 때 암호화 된다. 
- 암호화된 요청은 다른 서버를 통과할 때 필요한 최소한의 정보만 가지게 된다 (클라이언트의 ip를 숨길 수 있는 장점, 요청 받은 서버에서 ip 를 추적해도 포워드 프록시 서버의 ip 만 알수있음 )
- 내부망에서 외부망으로 나갈때 포워드 프록시를 통해 특정 사이트 접근을 막는다던가 할 수 있다.

# Reverse Proxy
- 클라이언트와 서버 사이에 (서버 앞) 위치하여 로드밸런싱 역할을 함 , 본 서버의 IP정보를 숨길 수 있는 효과 , 서버가 감춰짐
- 클라이언트는 웹 서비스를 접근할 때 웹 서버에 요청을 하는것이 아닌 프록시로 요청을 하게되고 프록시가 웹 서버에 요청을 해서 리소스에 접근하는 방식
- DMZ(내부 외부 네트워크 둘 다 접근할 수 있는 공간) 통상적으로 DMZ 에 두고 실제 서비스 서버는 내부망에 위치시킨 후 서비스를 제공한다. 
- 리버스 프록시는 웹 서버 앞에 놓이기 때문에 웹 서버에 직접 접근하는 것이 아닌 리버스 프록시를 통해 접근
- 웹 서버의 IP를 노출시키지 않을 수 있기 때문에 웹 서버에 대한 1차적인 공격을 막을 수 있음
- 포워드 프록시와 같이 캐싱처리가능 
- SSL Offloading : SSL 암호화를 해제하는 기능, SSL 암호화는 서버와 클라이언트 간에 데이터를 주고 받을 때 암호화를 하는것, 
- 이렇게 되면 웹서버는 SSL 암호화를 해제하는 부담이 없어져서 부하를 줄일 수 있음 


